%\newcommand{\ket}[1]{\left|#1\right\rangle}
%\newcommand{\bra}[1]{\left\langle#1\right|}
%\newcommand{\mean}[1]{\left\langle#1\right\rangle}
%\newcommand{\dd}{\mathrm{d}}

% Activer \frontmatter, \mainmatter et \appendix pour la classe report
%\newcommand{\frontmatter}{%
%  \pagenumbering{roman}%
%  \setcounter{page}{1}%
%  \renewcommand{\chaptermark}[1]{\markboth{##1}{}}
%  \renewcommand{\sectionmark}[1]{\markright{##1}}
%}
%
%\newcommand{\mainmatter}{%
%  \pagenumbering{arabic}%
%  \setcounter{page}{1}
%}


% \appendix est d√©j√† d√©fini dans report, inutile de le red√©finir


% Figures flottantes:
% fraction maximale d'une page pouvant etre occupe par une figure:
\renewcommand{\topfraction}{0.8}
% fraction minimale d'une page reservee pour le texte:
\renewcommand{\textfraction}{0.2}
% fraction minimale d'occupation de la page par une figure pleine page:
\renewcommand{\floatpagefraction}{0.7}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%         D\'ecoupage des mots           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hyphenation{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%  Th\'eor\`emes, d\'efinitions, etc.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% Il y a diff√É¬É√©rents types d'√É¬É√©nonc√É¬É√©s qui m√É¬É√©ritent un environnement sp√É¬É√©cifique, voici une liste assez exhaustive.
\theoremstyle{plain}
    \newtheorem{Theo}{Th\'eor\`eme}[section] %compteur commen√É¬É√Ç¬ßant par le num√É¬É√©ro de la section (on pourrait aussi faire commencer par le num√É¬É√©ro de la sous-section - remplacer "section" par "subsection")
    \newtheorem{Prop}[Theo]{Proposition}        %m√É¬É√™me compteur que pour les th√É¬É√©or√É¬É√®mes
    \newtheorem{Prob}[Theo]{Probl\`eme}        %idem
    \newtheorem{Lemm}[Theo]{Lemme}            %etc...
    \newtheorem{Coro}[Theo]{Corollaire}
    \newtheorem{Propr}[Theo]{Propri\'et\'e}
    \newtheorem{Conj}[Theo]{ Conjecture}
    \newtheorem{Aff}[Theo]{Affirmation}

    \newtheorem{TheoPrinc}{Th\'eor\`eme}     %compteur sp√É¬É√©cifique pour les th√É¬É√©or√É¬É√®mes les plus importants du papier
        
\theoremstyle{definition}
    \newtheorem{Defi}[Theo]{D\'efinition}
    \newtheorem{Exem}[Theo]{Exemple}
    \newtheorem{Nota}[Theo]{\Large Notation}

\theoremstyle{remark}
    \newtheorem{Rema}[Theo]{Remarque}
    \newtheorem{NB}[Theo]{N.B.}
    \newtheorem{Comm}[Theo]{Commentaire}
    \newtheorem{question}[Theo]{$\ast$ Question}
    \newtheorem{exer}[Theo]{Exercice}
    \newtheorem{Consequence}[Theo]{Cons√©quence}
    \newtheorem{Rap}[Theo]{Rappel}
    \newtheorem*{Merci}{Remerciements}

\mdfdefinestyle{propstyle}{%
linecolor=black,linewidth=2pt,%
hidealllines=true,
frametitlerule=true,%
frametitlebackgroundcolor=gray!20,
backgroundcolor=gray!10!white,
roundcorner=5pt,
innertopmargin=\topskip,
}

%\mdtheorem[style=propstyle]{prop}{Property}[chapter]
\mdtheorem[style=propstyle]{lemma}[prop]{Lemma}
\mdtheorem[style=propstyle]{TheoPrinc}{Th\'eor\`eme}[chapter]

% D√©finition d'un style personnalis√© pour les Affirmations
\mdfdefinestyle{affirmestyle}{%
    linecolor=gray, % Couleur de la bordure
    linewidth=1pt, % √âpaisseur de la bordure
    backgroundcolor=gray!10, % Couleur de fond (gris clair)
    roundcorner=5pt, % Coins arrondis
    innertopmargin=0pt, % Marge int√©rieure au-dessus du cadre
    innerbottommargin=10pt, % Marge int√©rieure en-dessous du cadre
    innerleftmargin=10pt, % Marge int√©rieure √† gauche
    innerrightmargin=10pt, % Marge int√©rieure √† droite
    skipabove=10pt, % Espace au-dessus du cadre
    skipbelow=10pt % Espace en-dessous du cadre
}

% D√©finition de l'environnement Affirmation
\theoremstyle{definition} % Style de th√©or√®me pour les affirmations
\newmdtheoremenv[style=affirmestyle]{aff}{Point cl√© n$^{\circ}$} % Environnement Affirmation avec le style personnalis√©
    
\newcommand\dangersign[1]{%
    \renewcommand\stacktype{L}%
    \scaleto{\stackon[1.3pt]{\color{red}$\triangle$}{\tiny !}}{#1}%
}

\tikzset{every picture/.style={execute at begin picture={\shorthandoff{:;!?};}}}
\tikzstyle{every picture}+=[remember picture]
\tikzstyle{na} = [shape=rectangle,inner sep=0pt]

% Commandes pour les fl√®ches textuelles
\newcommand{\ptFleche}[2]{        % D√©claration d'une extr√©mit√© de fl√®che
    \tikz[baseline=(#1.base)]\node[na](#1){#2};
  }
%\newcommand{\Fleche}[5][thick]{    % Dessin de la fl√®che
%    \begin{tikzpicture}[overlay]
%        \path[->,#1](#2) edge [out=#4, in=#5] (#3);
%    \end{tikzpicture}
%  }
  
% \newcommand{\Flecheprim}[5][thick]{    % Dessin de la fl√®che
%    \begin{tikzpicture}[overlay]
%        \path[->,#1](#2) edge [out=#4, in=#5] (#3);
%    \end{tikzpicture}
%  }
%



\definecolor{linkcolor}{RGB}{0,0,180}
\PassOptionsToPackage{
    colorlinks=true,
    linkcolor=linkcolor,
    citecolor=linkcolor,
    urlcolor=linkcolor
}{hyperref}

% Appliquer la couleur √† tous les niveaux de titre
\titleformat{\section}{\normalfont\color{colorSix!90!black}\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\color{colorSix!70!black}\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\color{colorSix!50!black}\normalsize\bfseries}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}[runin]{\normalfont\color{colorOne!30!black}\bfseries}{\theparagraph}{1em}{}
\titleformat{\subparagraph}[runin]{\normalfont\color{colorOne!10!black}\itshape}{\thesubparagraph}{1em}{}
%%%%%%%%%%%%%%%%%%%%%%%

%%Couleurs dans la table des mati√®res

% Modifier la couleur des entr√©es de la TOC
\renewcommand{\cftsecfont}{\color{linkcolor!90!black}}
\renewcommand{\cftsubsecfont}{\color{linkcolor!70!black}}
\renewcommand{\cftsubsubsecfont}{\color{linkcolor!50!black}}
\renewcommand{\cftparafont}{\color{linkcolor!30!black}}
\renewcommand{\cftsubparafont}{\color{linkcolor!10!black}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Reglages:
%
%\pagestyle{fancyplain}
%\addtolength{\headwidth}{\marginparsep}
%\addtolength{\headwidth}{\marginparwidth}
%\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
%\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
%\lhead[\fancyplain{}{\bfseries\thepage}]{}
%\rhead[]{\fancyplain{}{\bfseries\thepage}}
%\chead[\fancyplain{}{\bfseries\leftmark}]{\fancyplain{}{\bfseries\rightmark}}
%\cfoot{}
%

%usepackage{titlesec}
% Changer la couleur des paragraphes en rouge par exemple :
%\titleformat{\paragraph}[runin] % ou [block] selon ce que tu veux
%  {\normalfont\color{red}\bfseries}
%  {\theparagraph}{1em}{}

% D√©finition des couleurs avec les codes HTML
\definecolor{colorOne}{HTML}{443E46}
\definecolor{colorTwo}{HTML}{F6DEB8}
\definecolor{colorThree}{HTML}{908CA4}
\definecolor{colorFour}{HTML}{57659E}
\definecolor{colorFive}{HTML}{C57284}
\definecolor{colorSix}{HTML}{FF5B69}

% Raccourcis pour les couleurs
\def\colorOne{colorOne}
\def\colorTwo{colorTwo}
\def\colorThree{colorThree}
\def\colorFour{colorFour}
\def\colorFive{colorFive}
\def\colorSix{colorSix}

%%% ===== Index principal + index secondaire (noms propres) =====
\makeindex[intoc=true]
\makeindex[name=pers, title=Index des noms propres, intoc=true]

%%% ===== Couleur des liens =====
\definecolor{linkcolor}{RGB}{0,0,180}
\PassOptionsToPackage{
    colorlinks=true,
    linkcolor=linkcolor,
    citecolor=linkcolor,
    urlcolor=linkcolor
}{hyperref}
\usepackage{hyperref}

%%% ===== R√©glages hyperref =====
\hypersetup{
  pdftitle={√âtude de la dynamique hors √©quilibre de bosons unidimensionnels},
  pdfsubject={Quantum Physics},
  pdfauthor={Guillaume THEMEZE <guillaume.themeze@gmail.fr>},
  pdfkeywords={LaTeX, quantum, bosons, dynamique},
  colorlinks=true
}

%%% ===== Style des titres (color√©s) =====
\titleformat{\chapter}[display]{\normalfont\sffamily\huge\bfseries\color{colorSix}}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titleformat{\section}{\normalfont\color{colorSix!90!colorFour}\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\color{colorSix!70!colorFour}\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\color{colorSix!50!colorFour}\normalsize\bfseries}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}[runin]{\normalfont\color{colorSix!30!colorFour}\bfseries}{\theparagraph}{1em}{}
\titleformat{\subparagraph}[runin]{\normalfont\color{colorSix!10!colorFour}\itshape}{\thesubparagraph}{1em}{}

%%% ===== Couleurs de la table des mati√®res =====
\renewcommand{\cftsecfont}{\color{linkcolor!90!black}}
\renewcommand{\cftsubsecfont}{\color{linkcolor!70!black}}
\renewcommand{\cftsubsubsecfont}{\color{linkcolor!50!black}}
\renewcommand{\cftparafont}{\color{linkcolor!30!black}}
\renewcommand{\cftsubparafont}{\color{linkcolor!10!black}}

%%% ===== En-t√™tes et pieds de page =====
\pagestyle{fancy}
\fancyhf{}
\setlength{\headheight}{14pt}

\fancyhead[RO,LE]{\thepage}
\fancyhead[LO]{\scshape \nouppercase{\rightmark}}  % Section
\fancyhead[RE]{\scshape \nouppercase{\leftmark}}  % Chapitre
\renewcommand{\headrulewidth}{.4pt}


\newdateformat{mydate}{\THEDAY~\monthname[\THEMONTH]~\THEYEAR}
\newdateformat{mydatetime}{\THEDAY~\monthname[\THEMONTH]~\THEYEAR~√†~\currenttime}

%\DTMsetstyle{french} % ou autre style
%\DTMsetup{showtimezone=false}

\fancyfoot[L]{Th√®se}
%\fancyfoot[R]{Paris, \mydatetime\today{} -- P√©riode 2022--2025}
\fancyfoot[R]{Paris, \DTMnow -- P√©riode 2022--2025}
%\fancyfoot[R]{Paris, le \DTMdate\today{} √† \DTMcurrenttime -- P√©riode 2022--2025}
\renewcommand{\footrulewidth}{.4pt}

% Supprimer les num√©ros sur la premi√®re page de chaque chapitre
\makeatletter
\let\ps@plain=\ps@empty
\makeatother

%%% ===== R√©glages des titres de sections dans les en-t√™tes =====
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}

%%% ===== Notes de bas de page √† la fran√ßaise =====
\usepackage[french]{babel}
%\usepackage[frenchfootnotes]{french}
%\FrenchFootnotes
%\AddThinSpaceBeforeFootnotes

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\operatorvec}[1]{\vec{{\bm{#1}}}} % pour les operateur
\newcommand{\operator}[1]{\hat{\bm{#1}}} % pour les operaeur vecteur
\newcommand{\operatormat}[1]{\operatorname{#1}} % pour les operaeur vecteur
\newcommand{\operatortilde}[1]{\tilde{\bm{#1}}} % pour les opetateur avec un tilde
\newcommand{\operatortildevec}[1]{\tilde{\bm{#1}}}% pour les opetateur avec un tilde et vecteur
\newcommand{\dfonc}[1]{\mathscr{D}_{[#1]}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%üî§ 2. Abr√©viations classiques
% Math√©matiques g√©n√©rales
\newcommand{\dd}{\mathrm{d}}           % diff√©rentielle droite
\newcommand{\ii}{\mathrm{i}}           % unit√© imaginaire
\newcommand{\ee}{\mathrm{e}}           % exponentielle

% Pour les ensembles usuels
\newcommand{\R}{\mathbb{R}}            % r√©els
\newcommand{\C}{\mathbb{C}}            % complexes
\newcommand{\Z}{\mathbb{Z}}            % entiers
\newcommand{\N}{\mathbb{N}}            % naturels

% D√©limiteurs automatiques
%\newcommand{\abs}[1]{\left|#1\right|}
%\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
%\newcommand{\paren}[1]{\left(#1\right)}
%\newcommand{\bracket}[1]{\left[#1\right]}
%\newcommand{\set}[1]{\left\{#1\right\}}

%‚öõÔ∏è 3. Physique quantique
% Bra-ket
%\newcommand{\ketbra}[2]{\ket{#1}\!\bra{#2}}
%\newcommand{\braket}[2]{\left\langle #1 \middle| #2 \right\rangle}
%\newcommand{\ketproj}[1]{\ket{#1}\!\bra{#1}}

% Hamiltonien, op√©rateurs
\newcommand{\Ham}{\mathcal{H}}
\newcommand{\Op}[1]{\hat{#1}}
\newcommand{\Tr}{\mathrm{Tr}}

% Commutateurs et anticommutateurs
\newcommand{\comm}[2]{\left[#1, #2\right]}
\newcommand{\acomm}[2]{\left\{#1, #2\right\}}

%üå°Ô∏è 4. GHD ou dynamique int√©grable
\newcommand{\rhoP}{\rho_{\mathrm{p}}}       % densit√© de particules
\newcommand{\rhoT}{\rho_{\mathrm{t}}}       % densit√© totale
\newcommand{\veff}{v^{\mathrm{eff}}}        % vitesse efficace
\newcommand{\dr}{\partial}                  % d√©riv√©e
\newcommand{\nustar}{\nu^\ast}              % solution auto-similaire

%‚úçÔ∏è 5. Utilisation typographique
\newcommand{\eg}{\emph{e.g.}\xspace}
\newcommand{\ie}{\emph{i.e.}\xspace}
\newcommand{\etal}{\emph{et al.}\xspace}


