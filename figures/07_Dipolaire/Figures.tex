\documentclass{standalone} % Utilise la classe standalone pour compiler uniquement le TikZ
%\include{pakage_tikz}
\usepackage{tikz}          % Charge le package TikZ
\usepackage{xcolor}        % Gestion avancée des couleurs
\usepackage{amsmath}       % Gestion des formules mathématiques
\usetikzlibrary{arrows.meta} % Pour gérer les flèches avec des formes spécifiées comme "triangle"
\usetikzlibrary{decorations.pathmorphing}
%\url{https://tex.stackexchange.com/q/372776/86}
\usetikzlibrary{decorations.pathreplacing,calligraphy}
\usepackage{pgfplots}
%\pgfplotsset{compat=1.18}
\usepackage[active,tightpage]{preview}
\PreviewEnvironment{tikzpicture}
\setlength\PreviewBorder{5pt}
%\usepgfplotslibrary{external}
%\tikzexternalize

\usetikzlibrary{3d,calc}
\usetikzlibrary{perspective}
\usetikzlibrary{patterns}
\usepackage{tikz-3dplot}
\usepackage{pgfmath}
\usepackage{xifthen}
\usepackage{braket}
\usepackage{physics}

\usetikzlibrary{patterns, decorations.pathreplacing}

\usepackage{siunitx}

%% Automatiser cela : une solution plus élégante  nouvelle page, tu peux utiliser la commande \newpage juste avant chaque \begin{tikzpicture}
%\let\oldtikzpicture\tikzpicture
%\let\endoldtikzpicture\endtikzpicture
%\renewenvironment{tikzpicture}{\newpage\oldtikzpicture}{\endoldtikzpicture}
%\usepackage{etoolbox} % dans le préambule, si pas encore utilisé
%\pretocmd{\tikzpicture}{\clearpage}{}{}





\newcommand{\Palette}[1][\colorOne]{
	\clip[decorate, decoration={random steps, segment length=3pt, amplitude=3pt}]
        	(-1,-1) rectangle (1,1);
	\draw[fill=#1 , color = #1 ] (-2,-2) rectangle (2,2);
}






% Définition des couleurs avec les codes HTML
\definecolor{colorOne}{HTML}{443E46}
%\definecolor{colorTwo}{HTML}{F6DEB8}
\definecolor{colorTwo}{HTML}{FFFFFF}
\definecolor{colorThree}{HTML}{908CA4}
\definecolor{colorFour}{HTML}{57659E}
\definecolor{colorFive}{HTML}{C57284}
\definecolor{colorSix}{HTML}{FF5B69}

% Raccourcis pour les couleurs
\def\colorOne{colorOne}
\def\colorTwo{colorTwo}
\def\colorThree{colorThree}
\def\colorFour{colorFour}
\def\colorFive{colorFive}
\def\colorSix{colorSix}

\definecolor{colorGold}{HTML}{FFD700}
\def\colorGold{colorGold}







%Palette 
\newcommand{\Palettes}[0]{
%\begin{tikzpicture}	
	\node at (0,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorOne]
		\end{tikzpicture}} ;
	\node at (3,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorTwo]
		\end{tikzpicture}} ;
	\node at (6,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorThree]
		\end{tikzpicture}} ;
	\node at (9,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorFour]
		\end{tikzpicture}} ;
	\node at (12,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorFive]
		\end{tikzpicture}} ;
	\node at (15,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorSix]
		\end{tikzpicture}} ;
	\node at (18,0) [rectangle, ] {
		\begin{tikzpicture}
			\Palette[\colorGold]
		\end{tikzpicture}} ;
%\end{tikzpicture}
}





\newcommand{\drawgridxyz}[7]{%
  \begin{scope}[opacity=0.5]
  
  \pgfmathtruncatemacro{\imax}{#4 - 1}
  \pgfmathtruncatemacro{\jmax}{#6 - 1}
   % Valeurs flottantes pour les graduations
  \pgfmathsetmacro{\itraiminus}{#5 - 0.1}
  \pgfmathsetmacro{\itraiplus}{#5 + 0.1}
  \pgfmathsetmacro{\jtraiminus}{#3 - 0.1}
  \pgfmathsetmacro{\jtraiplus}{#3 + 0.1}
  

  % Petite grille millimétrée (pas = 0.1)
  \foreach \i in {#3, ..., \imax} {
    \foreach \di in {0.1,0.2,...,0.9} {
      \pgfmathsetmacro{\iiTemp}{\i+\di}
      \edef\ii{\iiTemp}
      \draw[very thin, gray!50] 
        (tpp cs:#1=#2,%
          \ifx#1x y=\ii,z=#5 \fi%
          \ifx#1y x=\ii,z=#5 \fi%
          \ifx#1z x=\ii,y=#5 \fi) --
        (tpp cs:#1=#2,%
          \ifx#1x y=\ii,z=#6 \fi%
          \ifx#1y x=\ii,z=#6 \fi%
          \ifx#1z x=\ii,y=#6 \fi);
    }
  }

  \foreach \j in {#5, ..., \jmax} {
    \foreach \dj in {0.1,0.2,...,0.9} {
      \pgfmathsetmacro{\jjTemp}{\j+\dj}
      \edef\jj{\jjTemp}
      \draw[very thin, gray!50] 
        (tpp cs:#1=#2,%
          \ifx#1x y=#3,z=\jj \fi%
          \ifx#1y x=#3,z=\jj \fi%
          \ifx#1z x=#3,y=\jj \fi) --
        (tpp cs:#1=#2,%
          \ifx#1x y=#4,z=\jj \fi%
          \ifx#1y x=#4,z=\jj \fi%
          \ifx#1z x=#4,y=\jj \fi);
    }
  }

  % Grille principale (pas = 1)
  \foreach \i in {#3,...,#4} {
    \draw[very thin, gray] 
      (tpp cs:#1=#2,%
        \ifx#1x y=\i,z=#5 \fi%
        \ifx#1y x=\i,z=#5 \fi%
        \ifx#1z x=\i,y=#5 \fi) --
      (tpp cs:#1=#2,%
        \ifx#1x y=\i,z=#6 \fi%
        \ifx#1y x=\i,z=#6 \fi%
        \ifx#1z x=\i,y=#6 \fi);
  }

  \foreach \j in {#5,...,#6} {
    \draw[very thin, gray]
      (tpp cs:#1=#2,%
        \ifx#1x y=#3,z=\j \fi%
        \ifx#1y x=#3,z=\j \fi%
        \ifx#1z x=#3,y=\j \fi) --
      (tpp cs:#1=#2,%
        \ifx#1x y=#4,z=\j \fi%
        \ifx#1y x=#4,z=\j \fi%
        \ifx#1z x=#4,y=\j \fi);
  }

  % Axe 1
  \draw[#7 , ,->,>=Stealth ] 
    (tpp cs:#1=#2,%
      \ifx#1x y=#3,z=#5 \fi%
      \ifx#1y x=#3,z=#5 \fi%
      \ifx#1z x=#3,y=#5 \fi) --
    (tpp cs:#1=#2,%
      \ifx#1x y=#4,z=#5 \fi%
      \ifx#1y x=#4,z=#5 \fi%
      \ifx#1z x=#4,y=#5 \fi);

  % Axe 2
  \draw[#7,->,>=Stealth] 
    (tpp cs:#1=#2,%
      \ifx#1x y=#3,z=#5 \fi%
      \ifx#1y x=#3,z=#5 \fi%
      \ifx#1z x=#3,y=#5 \fi) --
    (tpp cs:#1=#2,%
      \ifx#1x y=#3,z=#6 \fi%
      \ifx#1y x=#3,z=#6 \fi%
      \ifx#1z x=#3,y=#6 \fi);

 % Graduation sur axe 1 (avec petit trait)
\foreach \i in {#3,...,#4} {     
   \draw[
  	]
      (tpp cs:#1=#2,%
        \ifx#1x y=\i,z=\itraiminus \fi%
        \ifx#1y x=\i,z=\itraiminus \fi%
        \ifx#1z x=\i,y=\itraiminus \fi) edge[#7] node[pos = -0.1  ] {\i}
      (tpp cs:#1=#2,%
        \ifx#1x y=\i,z=\itraiplus \fi%
        \ifx#1y x=\i,z=\itraiplus \fi%
        \ifx#1z x=\i,y=\itraiplus \fi);
}


  % Graduation axe 2
  \foreach \j in {#5,...,#6} {
  	 % Petit trait de graduation
  \draw[
  	]
      (tpp cs:#1=#2,%
        \ifx#1x z=\j,y=\jtraiminus \fi%
        \ifx#1y z=\j,x=\jtraiminus \fi%
        \ifx#1z y=\j,x=\jtraiminus \fi) edge[#7] node[pos = -0.1 ] {\j}
      (tpp cs:#1=#2,%
        \ifx#1x z=\j,y=\jtraiplus \fi%
        \ifx#1y z=\j,x=\jtraiplus \fi%
        \ifx#1z y=\j,x=\jtraiplus \fi);
}

  \end{scope}
}

 
\newcommand{\Axex}[5]{
	\pgfmathsetmacro{\xmax}{#1 +#4}
	\draw[#5] (tpp cs: x=#1, y=#2, z= #3) edge[] node[pos=1.1]{$x$}(tpp cs: x=\xmax,y=#2,z=#3) ;
	\let\xmax\relax
}

\newcommand{\Axey}[5]{
	\pgfmathsetmacro{\ymax}{#2 +#4}
	\draw[#5] (tpp cs: x=#1, y=#2, z= #3) edge[] node[pos=1.1]{$y$}(tpp cs: x=#1,y=\ymax,z=#3) ;
	\let\ymax\relax
}

\newcommand{\Axez}[5]{
	\pgfmathsetmacro{\zmax}{#3 +#4}
	\draw[#5] (tpp cs: x=#1, y=#2, z= #3) edge[] node[pos=1.1]{$z$}(tpp cs: x=#1,y=#2,z=\zmax) ;
	\let\zmax\relax
}

\newcommand{\Axes}[7]{
	\Axex{#1}{#2}{#3}{#4}{#7}
	\Axey{#1}{#2}{#3}{#5}{#7}
	\Axez{#1}{#2}{#3}{#6}{#7}
}

\newcommand{\AxesSimples}[5]{
	\Axes{#1}{#2}{#3}{#4}{#4}{#4}{#5}
}

\newcommand{\drawrectxyz}[7]{%
  \begin{scope}
    \draw[#7]
      (tpp cs:%
        \ifx#1x x=#2,y=#3,z=#5 \fi%
        \ifx#1y x=#3,y=#2,z=#5 \fi%
        \ifx#1z x=#3,y=#5,z=#2 \fi)
      --
      (tpp cs:%
        \ifx#1x x=#2,y=#4,z=#5 \fi%
        \ifx#1y x=#4,y=#2,z=#5 \fi%
        \ifx#1z x=#4,y=#5,z=#2 \fi)
      --
      (tpp cs:%
        \ifx#1x x=#2,y=#4,z=#6 \fi%
        \ifx#1y x=#4,y=#2,z=#6 \fi%
        \ifx#1z x=#4,y=#6,z=#2 \fi)
      --
      (tpp cs:%
        \ifx#1x x=#2,y=#3,z=#6 \fi%
        \ifx#1y x=#3,y=#2,z=#6 \fi%
        \ifx#1z x=#3,y=#6,z=#2 \fi)
      -- cycle;
  \end{scope}
}

\newcommand{\drawparallelepiped}[7]{%
  % #1 = x0, #2 = y0, #3 = z0
  % #4 = dx, #5 = dy, #6 = dz
  % #7 = style

  \pgfmathsetmacro{\xmax}{#1 + #4}
  \pgfmathsetmacro{\ymax}{#2 + #5}
  \pgfmathsetmacro{\zmax}{#3 + #6}

  % Faces arrière (dessinées en premier)
  \drawrectxyz{x}{#1}{#2}{\ymax}{#3}{\zmax}{#7}  % face en x = x0
  \drawrectxyz{y}{#2}{#1}{\xmax}{#3}{\zmax}{#7}  % face en y = y0
  \drawrectxyz{z}{#3}{#1}{\xmax}{#2}{\ymax}{#7}  % face en z = z0

  % Faces avant (dessinées ensuite pour être visibles au-dessus)
  \drawrectxyz{x}{\xmax}{#2}{\ymax}{#3}{\zmax}{#7}  % x = x0 + dx
  \drawrectxyz{y}{\ymax}{#1}{\xmax}{#3}{\zmax}{#7}  % y = y0 + dy
  \drawrectxyz{z}{\zmax}{#1}{\xmax}{#2}{\ymax}{#7}  % z = z0 + dz

  % Nettoyage
  \pgfmathsetmacro{\xmax}{0}
  \pgfmathsetmacro{\ymax}{0}
  \pgfmathsetmacro{\zmax}{0}
}

\newcommand{\drawparallelepipedcenter}[7]{%
  % #1 = xc, #2 = yc, #3 = zc (centre)
  % #4 = dx, #5 = dy, #6 = dz (dimensions)
  % #7 = style

  \pgfmathsetmacro{\xmin}{#1 - #4/2}
  \pgfmathsetmacro{\xmax}{#1 + #4/2}
  \pgfmathsetmacro{\ymin}{#2 - #5/2}
  \pgfmathsetmacro{\ymax}{#2 + #5/2}
  \pgfmathsetmacro{\zmin}{#3 - #6/2}
  \pgfmathsetmacro{\zmax}{#3 + #6/2}

  % Faces arrière
  \drawrectxyz{x}{\xmin}{\ymin}{\ymax}{\zmin}{\zmax}{#7}  % face en x = xmin
  \drawrectxyz{y}{\ymin}{\xmin}{\xmax}{\zmin}{\zmax}{#7}  % face en y = ymin
  \drawrectxyz{z}{\zmin}{\xmin}{\xmax}{\ymin}{\ymax}{#7}  % face en z = zmin

  % Faces avant
  \drawrectxyz{x}{\xmax}{\ymin}{\ymax}{\zmin}{\zmax}{#7}  % face en x = xmax
  \drawrectxyz{y}{\ymax}{\xmin}{\xmax}{\zmin}{\zmax}{#7}  % face en y = ymax
  \drawrectxyz{z}{\zmax}{\xmin}{\xmax}{\ymin}{\ymax}{#7}  % face en z = zmax
}

% Définition de la fonction pour générer la grille
\newcommand{\drawgrid}[4]{


	\begin{scope}[opacity = 0.2]
	
	
    	% Paramètres : #1=xmin, #2=xmax, #3=ymin, #4=ymax

   	 	% Grille principale en cm
    	\draw[very thin, gray] (#1,#3) grid (#2,#4); % Grille de base (1 cm)
    
    	\draw[very thin, gray] (#1,#3) grid[step=0.1] (#2,#4);

    	\draw[thin, black] (#1,#3) edge[thick,line width=0.8ex,->,>=Stealth ] (#2,#3); 
    
    	\foreach \x in {#1,..., #2} {
        	\draw[shift={(\x, #3)}] (0,-0.1) edge[line width=0.8ex] node[pos = -1 , below] {\x} (0,0.1); % Lignes verticales en mm
    	}

    	\draw[thin, black] (#1,#3)edge[thick,line width=0.8ex,->,>=Stealth ] (#1,#4); 
    
    	\foreach \y in {#3,..., #4} {
        	\draw[shift={(#1, \y)}] (-0.1 , 0 ) edge[line width=0.8ex] node[pos = -1 , left ] {\y} (0.1 , 0); % Lignes verticales en mm
    	}
    
    \end{scope}


}




\begin{document}

%%%% Palettes
\begin{tikzpicture}
	\node at (40,6) [rectangle , rotate = -90] { \tikz \Palettes  ;}; 	
\end{tikzpicture}

%%%%% 2 niveaux 
%\begin{tikzpicture}
%
%	\draw[]
%		(-1,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = -0.1 , left ]{{ \color{\colorOne}$ \ket{g}$}} (1 , 0) 
%		(-1,3) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = -0.1 , left ]{{ \color{\colorOne}$ \ket{e}$}} (1 , 3)
%		(-0.25 , 0.01 ) edge [thick,line width=0.5ex, <->,>=Stealth , color = \colorFour ] node [pos = 0.5 , left ]{ { \color{\colorFour} $\hbar \omega$}} (-0.25 , 3.49) 
%		(0.25 , 0.01 ) edge [thick,line width=0.5ex, <->,>=Stealth , color = \colorThree ] node [pos = 0.5 , right ]{ { \color{\colorThree} $\hbar \omega_{e\rightarrow g}$}} (0.25 , 2.99) 
%	;
%
%	%\drawgrid{-5}{5}{-5}{5}		
%\end{tikzpicture}

%%%% L=0 , L=1  niveaux 
\usetikzlibrary {decorations.markings}

% Commandes personnalisables
\newcommand{\mynodename}{nodeA}
\newcommand{\mynodecontent}{A}
\newcommand{\mycolor}{black} % valeur par défaut
\newcommand{\myposition}{0.5} % valeur par défaut

% Style TikZ réutilisable
\tikzset{
  mydecoration/.style={
    decoration={
      markings,
      mark connection node=\mynodename,
      mark=at position \myposition with {
        \node[draw = none ,fill= white ,transform shape] (\mynodename) {{ \color{\mycolor} \mynodecontent}};
      }
    },
    postaction={decorate}
  }
}


%%%% 2 niveaux 
\begin{tikzpicture}

	\draw[]
		(-1,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = -0.1 , left ]{{ \color{\colorOne}$ \ket{g}$}} (1 , 0) 
		(-1,3) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = -0.1 , left ]{{ \color{\colorOne}$ \ket{e}$}} (1 , 3)
	;
	% Transitions avec décorations
    \renewcommand{\mynodename}{nodeMinus}
    \renewcommand{\mynodecontent}{$\hbar \omega$}
    \renewcommand{\mycolor}{colorFour}
    \draw[mydecoration, thick, line width=0.5ex, <->, >=Stealth, color=colorFour] 
    	(-0.25 , 0.01 ) -- (-0.25 , 3.49)
    ;
    
    % Transitions avec décorations
    \renewcommand{\mynodename}{nodeMinus}
    \renewcommand{\mynodecontent}{$\hbar \omega_{e\rightarrow g}$}
    \renewcommand{\mycolor}{colorThree}
    \draw[mydecoration, thick, line width=0.5ex, <->, >=Stealth, color=colorThree] 
    	(0.25 , 0.01 ) -- (0.25 , 2.99)
    ;

	%\drawgrid{-5}{5}{-5}{5}		
\end{tikzpicture}


%%%% D1 D2 niveaux 
\begin{tikzpicture}

	\draw[]
	
		(-1,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = -0.1 , left ]{{ \color{\colorOne}$ L = 0 , \quad \ket{5S}$}} (1 , 0) 
		(-1,3) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = -0.1 , left ]{{ \color{\colorOne}$ L = 1 , \quad \ket{5P}$}} (1 , 3)
		
		
		(1,0) edge [dashed ,line width=0.45ex, color = \colorOne ] (2 , 0)
		
		(1,3) edge [dashed ,line width=0.45ex, color = \colorOne ] (2 , 3.5)
		(1,3) edge [dashed ,line width=0.45ex, color = \colorOne ] (2 , 2.5)
		 
		(2,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 1 , right ]{{ \color{\colorOne}$ J = 1/2 , \quad \ket{5S_{1/2}}$}} (4 , 0)
		
		(2,3.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 1 , right ]{{ \color{\colorOne}$ J = 3/2 , \quad \ket{5P_{3/2}}$}} (4 , 3.5)
		(2,2.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 1 , right ]{{ \color{\colorOne}$ J = 1/2 , \quad \ket{5P_{1/2}}$}} (4 , 2.5)
	;
	
	\draw
		(2.75,0.01) edge [decoration={
   							markings,
    						mark connection node=midnode,
    						mark=at position 0.5 with {
      							\node[draw = none ,fill= white ,transform shape , opacity = 1] (midnode) {{\color{\colorFive} \fontsize{8pt}{8pt}\selectfont
$D_1 : 795~nm$}};
    							}
 						 	},
  							postaction={decorate}, thick, line width=0.5ex, <->, >=Stealth, color=colorFive ] 
   		(2.75,2.49)		
   		(3.25,0.01) edge[decoration={
   							markings,
    						mark connection node=midnode,
    						mark=at position 0.4 with {
      							\node[draw = none ,fill= white ,transform shape , opacity = 1] (midnode) {{\color{\colorFour}\fontsize{8pt}{8pt}\selectfont $D_2 : 780~nm$}};
    							}
 						 	},
  							postaction={decorate}, thick, line width=0.5ex, <->, >=Stealth, color=colorFour ]
   		(3.25,3.49)	
	;

	%\drawgrid{-5}{5}{-5}{5}		
\end{tikzpicture}




%%%% L=0 , L=1  niveaux 
\begin{tikzpicture}

	\draw	
		(-1,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , below ]{{\color{\colorOne}$ \ket{0, 0 }$}} (1 , 0) 
		
		(-3.5,3) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{1, -1 }$}} (-1.5 , 3) 
		(-1,3) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{1, 0 }$}} (1 , 3)
		(1.5,3) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{1, +1 }$}} (3.5 , 3)		 
	;
	
	\node[left] at (-4,3) {{\color{\colorOne}$5P$}} ;
	\node[left] at (-4,0) {{\color{\colorOne}$5S$}} ;
	
	% Transitions avec décorations
    \renewcommand{\mynodename}{nodeMinus}
    \renewcommand{\mynodecontent}{$\sigma^-$}
    \renewcommand{\mycolor}{colorFive}
    \draw[mydecoration, thick, line width=0.5ex, <->, >=Stealth, color=colorFive] 
    	(-0.25,0.01) -- (-2.5,2.99)
    ;

    \renewcommand{\mynodename}{nodePi}
    \renewcommand{\mynodecontent}{$\pi$}
    \renewcommand{\mycolor}{colorFive}
    \draw[mydecoration, thick, line width=0.5ex, <->, >=Stealth, color=colorFive] 
   		(0,0.01) -- (0,2.99)
   	;

    \renewcommand{\mynodename}{nodePlus}
    \renewcommand{\mynodecontent}{$\sigma^+$}
    \renewcommand{\mycolor}{colorFive}
    \draw[mydecoration, thick, line width=0.5ex, <->, >=Stealth, color=colorFive] 
    	(0.25,0.01) -- (2.5,2.99)
    ;

	%\drawgrid{-5}{5}{-5}{5}		
\end{tikzpicture}

%%%% D1 , D2 base fine  niveaux 
\begin{tikzpicture}

	\draw	
		(-2.25,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , below ]{{\color{\colorOne}$ \ket{\tfrac12, -\tfrac12 }$}} (-0.25 , 0) 
		(.25,0) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , below ]{{\color{\colorOne}$ \ket{\tfrac12, +\tfrac12 }$}} (2.25 , 0)
		
		(-2.25,2.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{\tfrac12, -\tfrac12 }$}} (-0.25 , 2.5) 
		(.25,2.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{\tfrac12, +\tfrac12 }$}} (2.25 , 2.5)
		
		(-4.75,3.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{\tfrac32, -\tfrac32 }$}} (-2.75 ,3.5)
		(-2.25,3.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{\tfrac32, -\tfrac12 }$}} (-0.25 ,3.5) 
		(.25,3.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{\tfrac32, +\tfrac12 }$}} (2.25 ,3.5)
		(2.75,3.5) edge [ thick,line width=0.5ex, color = \colorOne ] node [pos = 0.5 , above ]{{\color{\colorOne}$ \ket{\tfrac32, +\tfrac32 }$}} (4.75 ,3.5)
		
		
	 
	;

	
	\draw
		(-1.25,0.01) edge [decoration={
   							markings,
    						mark connection node=midnode,
    						mark=at position 0.4 with {
      							\node[draw = none ,fill= white ,transform shape , opacity = 1] (midnode) {{\color{\colorFour}$\pi$}};
    							}
 						 	},
  							postaction={decorate}, thick, line width=0.5ex, <->, >=Stealth, color=colorFour , opacity = 0.7] 
   		(-1.25,3.99)		
   		(1.25,0.01) edge[decoration={
   							markings,
    						mark connection node=midnode,
    						mark=at position 0.4 with {
      							\node[draw = none ,fill= white ,transform shape , opacity = 1] (midnode) {{\color{\colorFour}$\pi$}};
    							}
 						 	},
  							postaction={decorate}, thick, line width=0.5ex, <->, >=Stealth, color=colorFour , opacity = 0.7]
   		(1.25,3.99)	
	;
	
	\node[left] at (-5.5,3.5) {{\color{\colorOne}$5P_{3/2}$}} ;
	\node[left] at (-5.5,2.5) {{\color{\colorOne}$5P_{1/2}$}} ;
	\node[left] at (-5.5,0) {{\color{\colorOne}$5S_{1/2}$}} ;
	
	\node[right] at (5.5,0) {{\color{\colorOne}$L = 0 $}} ;
	\draw
		(5.5,3.8) edge[decoration={calligraphic brace,amplitude=5pt}, decorate, line width=1.25pt]  node[pos =0.5 , xshift=0.2cm , right] {{\color{\colorOne}$L = 1$}}(5.5,2.2)
	;
	
	%\drawgrid{-5}{5}{-5}{5}		
\end{tikzpicture}


\begin{tikzpicture}[scale=1.3]

	% Axe des positions
	\draw
		(-3.5, 0) edge [thick, line width=0.5ex, ->, >=Stealth, color=colorOne] node[pos = 1 , right ]	{{\color{\colorOne}$x$}} (3 , 0) 	
		(-3, -0.5) edge [thick, line width=0.5ex, ->, >=Stealth, color=colorOne] node[pos = 1 , left ]	{{\color{\colorOne}$I$}} (-3 , 3) 
	;

	% Zone de piégeage entre les deux barrières
	\begin{scope}
		\clip[domain=-4:4, samples=200, smooth]plot (\x, {2*exp(-(\x+2)^2/0.01) + 2*exp(-(\x-2)^2/0.01)}) -- (4,3) -- (-4 , 3) -- cycle ;
		\filldraw[ thick,line width=0.5ex,color = colorSix , fill=colorFive] (-2,0) rectangle (2,1.5);
		\node at (0,0.7) {\color{\colorTwo}Zone de piégeage};
	\end{scope}


	% Courbe des deux barrières gaussiennes (inversée pour le piégeage bleu)
    % Zone remplie sous la courbe (hachures + couleur mélangée)

   \draw[
   		thick,
   		line width=0.5ex,
  		pattern=north west lines,
  		pattern color=colorFour,
  		draw=colorFour,
  		domain=-3.2:2.5, samples=200, smooth,
		]
 		plot (\x, {2*exp(-(\x+2)^2/0.01) + 2*exp(-(\x-2)^2/0.01)})
  ;
  

	% Légendes

  	\draw
  		(-2,2.2) edge[line width=0.5ex , arrows = {Computer Modern Rightarrow[sharp ,length=0.3cm]-} , in = -90 , out = 90 , color = colorFour  ] node[pos = 1 , above]{ \color{\colorFour}  }(-2, 2.5)
  		(2,2.2) edge[line width=0.5ex  , arrows = {Computer Modern Rightarrow[sharp ,length=0.3cm]-} , in = -90 , out = 90 , color = colorFour  ] node[pos = 0.9 , above]{ \color{\colorFour} Barrière optique }(2, 2.5)
  		
  		(1.5 , 2 ) edge [dashed , line width=0.5ex , color = colorOne ] node [pos  = 1 , right ] {\color{\colorOne}$U_{dip} \geq k_B \times 1 ~\mu K $} (2.5 , 2 )
  		(1.5 , 1 ) edge [dashed , line width=0.5ex , color = colorOne ] node [pos  = 1 , right ] {\color{\colorOne}$\Gamma_{sp} \leq 2\pi \times 1 ~s^{-1} $} (2.5 , 1 )
  		
  		
  	;


	\node at (0, -0.5) {$\Delta > 0$ : piégeage dans les \textbf{minima} d’intensité};
	
	%\drawgrid{-3}{3}{-1}{3}	

\end{tikzpicture}

\usetikzlibrary {arrows.meta,petri,positioning}
\usetikzlibrary {backgrounds}
\usetikzlibrary{arrows.meta, petri, positioning, backgrounds, decorations.pathmorphing, fit}

\tikzset{
  lens/.style={draw, thick, ellipse, minimum width=0.2cm, minimum height=1.2cm},
  mirror/.style={draw, thick, rectangle, minimum width=0.1cm, minimum height=1cm, fill=gray!40},
  laser/.style={draw, thick, rectangle, minimum width=1cm, minimum height=0.4cm, fill=red!20},
}

%\usepackage{tikzoptics}

%\ProvidesPackage{tikzoptics}[2025/07/13 TikZ Optics Elements]
%\RequirePackage{tikz}
\usetikzlibrary{arrows.meta, positioning, calc, decorations.pathmorphing}
\usetikzlibrary{shapes.geometric}

% Couleurs par défaut
\definecolor{laserred}{RGB}{220,20,60}
\definecolor{glassblue}{RGB}{100,100,255}
\definecolor{mirrorgray}{gray}{0.6}

\usepgflibrary {shadings}
% Source laser (boîte)
\tikzset{
  laser source/.style={
    draw, thick, rectangle,
    minimum width=1.2cm, minimum height=0.7cm,
    shading=axis,
    left color=black, right color=black, middle color=white,
    %top color=black, middle color=white, bottom color=black,
    %outer color=black,inner color=white,
    shading angle=0
  }
}

% Style pour faisceau laser
\tikzset{
  laser beam/.style={
    thick,
    %draw=laserred,
    draw=colorSix, 
    %decoration={snake, amplitude=0.5mm, segment length=2mm},
    %decorate
  }
}

% Fibre optique (cercle)
\tikzset{
  fiber/.style={
    draw = none, thick, circle, minimum size=2.2cm,
    fill= none,
    color = colorSix, 
    path picture={
      \draw[->, thick]
        ([shift={(-0.2,0)}]path picture bounding box.center)
        arc[start angle=-90, end angle=300, radius=0.5cm];
      \draw[->, thick]
        ([shift={(0.2,0)}]path picture bounding box.center)
        arc[start angle=-90, end angle=300, radius=0.5cm];
    }
  }
}


% Lentille convergente (symbole)
\tikzset{
  lens/.style={
    draw = none , thick, fill= none ,
    minimum width=0.2cm, minimum height=1.4cm,
    shape=ellipse,
    path picture={
      \draw[ thick , shading=axis , color = colorFour , left color=colorFour, right color=colorFour, middle color=white, shading angle=0]
        ([shift={(-0.1,0)}]path picture bounding box.center)
        arc[start angle=180, end angle=170, radius=3.5cm] --++ (0.1, 0 ) 
        arc[start angle=10, end angle=-10, radius=3.5cm] --++ (-0.1 , 0 )
        arc[start angle=-170, end angle=-180, radius=3.5cm] 
       ;
       %\drawgrid{-3}{3}{-1}{3};
    }
  }
}

\usetikzlibrary{patterns.meta}
 %Miroir plan (rectangle vertical incliné)
%\tikzset{
%  mirror/.style={
%    draw = none , thick, fill= none ,
%    minimum width=0.4cm, minimum height=1.4cm,
%    shape=rectangle, rotate=0,
%    path picture={
%      \draw[thick , line width=0.2ex,
%      	color = colorFour , left color=colorFour, right color=white, shading angle=90
%      	]
%        ([shift={(-0.,-0.6)}]path picture bounding box.center)
%        rectangle (0.1,0.6);
%      \fill[
%  		pattern=north west lines,
%  		pattern color=colorFour,
%  		%pattern line width = 0.3pt,     % finesse des traits
%		%pattern scale = 0.5             % plus petit motif
%  		]
%        ([shift={(0.1,-0.6)}]path picture bounding box.center)
%        rectangle ([shift={(0.15,0.6)}]path picture bounding box.center);
%      %\drawgrid{-3}{3}{-1}{3};
%    } 
%  }
%}

%\tikzset{
%  mirror/.style={
%    draw=none, thick, fill=none,
%    minimum width=0.4cm, minimum height=1.4cm,
%    shape=rectangle, rotate=0,
%    path picture={
%      % Bande colorée
%      \draw[thick, line width=0.2ex,
%        color=colorFour, left color=colorFour, right color=white, shading angle=90]
%        ([shift={(-0.,-0.6)}]path picture bounding box.center)
%        rectangle (0.1,0.6);
%
%      % Zone hachurée avec un clip
%      \scope
%        \clip
%          ([shift={(0.1,-0.6)}]path picture bounding box.center)
%          rectangle
%          ([shift={(0.15,0.6)}]path picture bounding box.center);
%
%        % Hachures à 45°
%        \foreach \t in {-1.0,-0.8,...,1.0} {
%          \draw[color=colorFour, line width=0.2pt]
%            ({\t-1},-1) -- ({\t+1},1);
%        }
%      \endscope
%    }
%  }
%}

\tikzset{
  mirror/.style={
    draw=none, line width=1.0pt, fill=none,
    minimum width=0.4cm, minimum height=1.4cm,
    shape=rectangle, rotate=0,
    path picture={
      % Bande colorée
      \draw[thick, line width=0.2ex,
        color=colorFour, left color=colorFour, right color=white, shading angle=90]
        ([shift={(-0.,-0.6)}]path picture bounding box.center)
        rectangle (0.1,0.6);
      % Hachures à 45° (pas de ligne vide ni de \par)
      \scope
        \clip
          ([shift={(0.1,-0.6)}]path picture bounding box.center)
          rectangle
          ([shift={(0.15,0.6)}]path picture bounding box.center);
        % Hachures à 45°
        \foreach \t in {-1.0,-0.9,...,1.0} {
          \draw[color=colorFour, line width=1.0pt]
            ({\t-1},-1) -- ({\t+1},1);
        }
      \endscope
    }
  }
}




% Lame demi-onde (rectangle avec double flèche)
\tikzset{
  halfwave plate/.style={
    draw , thick, rectangle,
    minimum width=0.2cm, minimum height=1.2cm,
    fill = none,
    line width=0.2ex , rounded corners=0.5ex , color = colorFive , left color=colorFive, right color=colorFive , middle color=white , shading angle=90,
%    path picture={
%      \draw[ line width=0.2ex , rounded corners=0.5ex , color = colorFive , left color=colorFive, right color=colorFive , middle color=white , shading angle=90]
%        ([xshift=0.1cm, yshift=0.1cm]path picture bounding box.south west)
%          rectangle
%        ([xshift=-0.1cm, yshift=-0.1cm]path picture bounding box.north east);
%    }
  }
}

% TA
\tikzset{
  TA/.style={
    draw = none , thick, rectangle,
    minimum width=1.2cm, minimum height=0.6cm,
    fill = none,
    line width=0.2ex , rounded corners=0.0ex , color = colorOne , left color=colorOne, right color=colorOne , middle color=colorTwo , shading angle=0,
    rotate = 0, 
    path picture={
%       \draw[ line width=0.2ex , rounded corners=0.0ex , color = colorFive , left color=colorFive, right color=colorFive , middle color=colorSix , shading angle=90]
%        ([xshift=0.0cm, yshift=0.01cm]path picture bounding box.west)
%          -- ([xshift=0.0cm, yshift=0.01cm]path picture bounding box.center) --
%        ([xshift=-0.0cm, yshift=0.2cm]path picture bounding box.east) -- ([xshift=-0.0cm, yshift=-0.2cm]path picture bounding box.east) -- ([xshift=0.0cm, yshift=-0.01cm]path picture bounding box.center) --  ([xshift=0.0cm, yshift=-0.01cm]path picture bounding box.west)
%       ;
       \draw[ line width=0.2ex , rounded corners=0.0ex , color = colorFive , left color=colorFive, right color=colorFive , middle color=colorSix , shading angle=90]
        ([xshift=0.0cm, yshift=0.2cm]path picture bounding box.west)
          -- ([xshift=0.0cm, yshift=0.01cm]path picture bounding box.center) --
        ([xshift=-0.0cm, yshift=0.01cm]path picture bounding box.east) -- ([xshift=-0.0cm, yshift=-0.01cm]path picture bounding box.east) -- ([xshift=0.0cm, yshift=-0.01cm]path picture bounding box.center) --  ([xshift=0.0cm, yshift=-0.2cm]path picture bounding box.west)
       ;
    }
  }
}

%      \draw[ line width=0.2ex , rounded corners=0.0ex , color = colorOne , left color=colorOne, right color=colorOne , middle color=colorTwo , shading angle=90]
%        ([xshift=0.1cm, yshift=0.1cm]path picture bounding box.south west)
%          rectangle
%        ([xshift=-0.1cm, yshift=-0.1cm]path picture bounding box.north east)
%       ;

% Lentille cylindrique (ellipse aplatie)
\tikzset{
  cylindrical lens/.style={
    draw = none , thick, fill= none ,
    minimum width=0.2cm, minimum height=1.4cm,
    shape=ellipse,
    path picture={
      \draw[ thick , line width=0.2ex , shading=axis , color = colorFour , left color=colorFour, right color=colorFour, middle color=white, shading angle=0]
        ([shift={(-0.1,0)}]path picture bounding box.center)
        arc[start angle=180, end angle=170, radius=3.5cm] --++ (0.1, 0 ) 
        arc[start angle=10, end angle=-10, radius=3.5cm] --++ (-0.1 , 0 )
        arc[start angle=-170, end angle=-180, radius=3.5cm] 
       ;
       %\drawgrid{-3}{3}{-1}{3};
    }
  }
}

% pignol
\tikzset{
  pignol/.style={
    draw = none , thick, fill= none ,
    minimum width=0.2cm, minimum height=1.4cm,
    shape=ellipse,
    path picture={
      \draw[ thick , line width=0.2ex , color = colorOne]
        ([shift={(0,0)}]path picture bounding box.north) -- ([shift={(0,0.1cm)}]path picture bounding box.center) 
       ;
      \draw[ thick , line width=0.2ex ,  , color = colorOne]
        ([shift={(0,0)}]path picture bounding box.south) -- ([shift={(0,-0.1cm)}]path picture bounding box.center) 
       ;
       %\drawgrid{-3}{3}{-1}{3};
    }
  }
}

% Isolateur optique (boîte avec flèche croisée)
\tikzset{
  optical isolator/.style={
    draw, thick, rectangle, minimum width=1cm, minimum height=0.7cm,
    fill=none ,
    line width=0.2ex , rounded corners=0.0ex , color = colorOne , left color=colorOne, right color=colorOne , middle color=colorTwo , shading angle=90,
    path picture={
      \draw[<-, thick] 
        ([shift={(-0.3,0)}]path picture bounding box.center)
        -- ([shift={(0.3,0)}]path picture bounding box.center);
      \draw[<-, thick, red] 
        ([shift={(0.3,-0.3)}]path picture bounding box.center)
        -- ([shift={(-0.3,-0.3)}]path picture bounding box.center);
    }
  }
}

% Modulateur AOM (boîte avec flèche diagonale)
\tikzset{
  AOM/.style={
    draw, thick, minimum width=0.4cm, minimum height=1cm,
    shape=rectangle, fill=none,
    line width=0.2ex , rounded corners=0.0ex , color = colorOne , left color=colorOne, right color=colorOne , middle color=colorTwo , shading angle=90,
    path picture={
      \fill[pattern=horizontal lines,
  		pattern color=colorOne] 
        ([shift={(0.1,0.1)}]path picture bounding box.south west)
        rectangle ([shift={(-0.1,-0.1)}]path picture bounding box.north east);
    }
  }
}


% Polariseur (rectangle fin + symbole)
\tikzset{
  polarizer/.style={
    draw, thick, minimum width=0.3cm, minimum height=1.4cm,
    fill=gray!30,
    path picture={
      \draw[path picture bounding box]
        ([xshift=-2pt]path picture bounding box.south)
        -- ([xshift=2pt]path picture bounding box.north);
      
    }
  }
}

% Collimateur
\tikzset{
  collimator/.style={
    draw, thick, trapezium, trapezium angle=60,
    minimum height=1cm, fill=blue!10
  }
}


% Miroir dichroïque
\tikzset{
  dichroic/.style={
    draw, thick, fill=yellow!30, rectangle,
    minimum width=0.2cm, minimum height=1.4cm, rotate=45
  }
}

% Détecteur photodiode
\tikzset{
  photodiode/.style={
    draw, thick, regular polygon, regular polygon sides=3, fill=orange!30,
    minimum size=1.2cm, rotate=270
  }
}


% Pinhole (trou)
\tikzset{
  pinhole/.style={
    draw, thick, circle, minimum size=0.3cm, fill=black
  }
}




\begin{tikzpicture}[node distance=1.8cm and 1.2cm]
	
	% DFB 
  \node[laser source] (laser) {DBR};
  \node[fiber ,  right=1mm of laser , draw = none] (fiberinput) {};
  \node[below=-0.45cm of fiberinput] {\color{\colorSix} \tiny  Fibre};
  \node[lens ,  right=1mm of fiberinput] (collimateurinput) {};  
  \node[below=-0cm of laser] {\color{\colorOne} $\scriptscriptstyle  \lambda = 770.5~nm$};
  \node[below=-0cm of collimateurinput] {\color{\colorFour} \tiny  Collimateur};
  
  
  \node[,  right=25mm of collimateurinput ] (mirrord1) {
  \begin{tikzpicture}
  	\draw[mirror , rotate = -45];
  \end{tikzpicture}
  };
  \node[above=2cm of mirrord1 ] (mirrord2)
  {
  \begin{tikzpicture}
  	\draw[mirror , rotate = 45];
  \end{tikzpicture}
  };
	
%	\node[mirror, rotate=-45, right=of collimateurinput] (mirrord1) {};
%	\node[mirror, rotate=-45, above=2cm of mirrord1] (mirrord2) {};

  
  
  \node[halfwave plate, left=of mirrord2] (lambda2TA) {};
  \node[below=-0cm of lambda2TA] { \color{\colorFive} $\scriptscriptstyle \tiny \lambda/2$};
  
  %% TA 
  \node[lens ,  left=5mm of lambda2TA] (lens1TA) {};
  \node[TA ,  left=2mm of lens1TA , xscale = 1  ] (TA) {};
  \node[lens ,  left=2mm of TA] (lens2TA) {};
  
  
  \node[cylindrical lens, left=of lens2TA] (cyl1) {};
  \node[cylindrical lens, left=of cyl1] (cyl2) {};
  \node[below=-0cm of cyl1] {\color{\colorFour}\tiny Cylindrique};
  \node[below=-0cm of cyl2] {\color{\colorFour}\tiny Cylindrique};
  
  
  \node[left=of cyl2] (mirrorTA1) {
  \begin{tikzpicture}
  	\draw[mirror , rotate = -135];
  \end{tikzpicture}
  };
  \node[above=2cm of mirrorTA1] (mirrorTA2)
  {
  \begin{tikzpicture}
  	\draw[mirror , rotate = 135];
  \end{tikzpicture}
  };
  
	% Telescope 
  \node[lens ,  right=10mm of mirrorTA2] (lensTele1) {};
  \node[pignol ,  right=35mm of lensTele1] (pignol) {};
  \node[lens ,  right=15mm of pignol] (lensTele2) {};
  \node[below=-0cm of pignol] { \color{\colorOne} $\scriptscriptstyle \mu m $};
  
  
  %\node[right=15mm of lensTele2] (mirrorTele1) {
  \node[,  above=2cm of mirrord2 ] (mirrorTele1) {
  \begin{tikzpicture}
  	\draw[mirror , rotate = -45];
  \end{tikzpicture}
  };
  \node[above=2cm of mirrorTele1] (mirrorTele2)
  {
  \begin{tikzpicture}
  	\draw[mirror , rotate = 45];
  \end{tikzpicture}
  };
  
  \node[halfwave plate, left=of mirrorTele2] (lambda2Iso) {};
   \node[below=-0cm of lambda2Iso] {\color{\colorFive} $\scriptscriptstyle \tiny \lambda/2$};
  
  \node[optical isolator, left=of lambda2Iso] (Iso) {};
  \node[below=-0cm of Iso] {\color{\colorOne}\tiny Isolateur Optique};
  
  
  \node[AOM, left=of Iso] (Aom) {};
  \node[below=-0cm of Aom] {\color{\colorOne}\tiny Aom};
  
  \node[lens ,  left=10mm of Aom] (collimateuroutput) {};
  \node[below=-0cm of collimateuroutput] {\color{\colorFour} \tiny  Collimateur};
  
  \node[fiber ,  left=1mm of collimateuroutput , xscale = -1 ] (fiberoutput) {};
  \node[below=-0.45cm of fiberoutput] {\color{\colorSix} \tiny  Fibre};
  %\node[ left=2cm of fiberoutput  ] (Out) {};
  
  \node[above=2cm of mirrorTA2] (Out) {};
  
  
 

  \draw[laser beam] (laser) -- (mirrord1) -- (mirrord2) -- (mirrorTA1) -- (mirrorTA2) -- (mirrorTele1)--(mirrorTele2) -- (Out) ;
	
	\drawgrid{-3.5}{7}{-1}{8};
	
	\draw[white] (-3.5,-1) rectangle (7,8) ;
\end{tikzpicture}


\tikzset{
  mirror/.style={
    draw=none, thick, fill=none,
    minimum width=0.4cm, minimum height=1.4cm,
    shape=rectangle, rotate=0,
    path picture={
      % Bande colorée
      \draw[thick, line width=0.2ex,
        color=colorFour, left color=colorFour, right color=white, shading angle=90]
        ([shift={(-0.,-0.6)}]path picture bounding box.center)
        rectangle (0.1,0.6);
      % Hachures à 45° 
      \foreach \t in {-1.0,-0.8,...,1.0} {%
        \draw[color=colorFour, line width=0.2pt]
          ({\t-1},-1) -- ({\t+1},1);
      }%
    }
  }
}
\begin{tikzpicture}
  \node[mirror, rotate=-45] at (0,0) {};
  \node[mirror, rotate=45] at (2,0) {};
\end{tikzpicture}




\begin{tikzpicture}[node distance=2cm and 1cm]

  % Laser DFB avec rectangle stylisé
  \node[draw=red, thick, minimum width=1.5cm, minimum height=1cm, fill=blue!20, rounded corners] (DFB) {DFB Laser};

  % Collimating lens
  \node[draw, rectangle, right=of DFB] (Collim) {Collimating\\Lens};

  % Mirror 1 (45°)
  \node[draw, rectangle, right=of Collim, rotate=45, anchor=center] (Mirror1) {Mirror 1};

  % Mirror 2 (135°)
  \node[draw, rectangle, above=of Mirror1, rotate=135, anchor=center] (Mirror2) {Mirror 2};

  % Lens
  \node[draw, rectangle, left=of Mirror2] (Lens) {Lens};

  % TA
  \node[draw, rectangle, left=of Lens] (TA) {TA};

  % TA Laser
  \node[draw, rectangle, above=of TA] (TALaser) {TA Laser};

  % Optional: arrows for optical path
  \draw[->, thick] (DFB) -- (Collim);
  \draw[->, thick] (Collim) -- (Mirror1);
  \draw[->, thick] (Mirror1) -- (Mirror2);
  \draw[->, thick] (Mirror2) -- (Lens);
  \draw[->, thick] (Lens) -- (TA);
  \draw[->, thick] (TA) -- (TALaser);

\end{tikzpicture}


\begin{tikzpicture}
	
	%DFB
	\newcommand{\DFB}{ 
  		\draw[background rectangle/.style=
{double,ultra thick,draw=red,top color=blue,rounded corners},
   show background rectangle, thick, line width=1ex, color=colorOne] (0.0) rectangle (1,1) ;			
	}
	
%	\node [rectangle , draw ] (DFB) [] {Laser
%		\tikz \DFB ;} 
%	;	
	\node [rectangle , draw ] (Collimating lens Laser) [left=of DFB] {Collimating lens Laser} ;
	\node [rectangle , draw] (Mirror 1 Laser) [left=of Collimating lens Laser , rotate = -45] {Mirror 1 Laser} ;
	\node [rectangle , draw] (Mirror 2 Laser) [above=of Mirror 1 Laser , rotate = 135] {Mirror 2 Laser} ;
	\node [rectangle , draw] (Lens Laser) [left=of Mirror 2 Laser , rotate = -90] {Lens Laser} ;
	\node [rectangle , draw] (TA) [left=of Lens Laser, rotate = 0] {TA} ;
	\node [rectangle , draw] (TA Laser) [left=of TA , rotate = 90] {TA Laser} ;
\end{tikzpicture}







\begin{tikzpicture}
  [node distance=1.3cm,on grid,>={Stealth[round]},bend angle=45,auto,
   every place/.style= {minimum size=6mm,thick,draw=blue!75,fill=blue!20},
   every transition/.style={thick,draw=black!75,fill=black!20},
   red place/.style= {place,draw=red!75,fill=red!20},
   every label/.style= {red}]
   
   
   \node [place,tokens=1] (w1)                                    {};
   \node [place]          (c1) [below=of w1]                      {};
   \node [place]          (s)  [below=of c1,label=above:$s\le 3$] {};
   \node [place]          (c2) [below=of s]                       {};
   \node [place,tokens=1] (w2) [below=of c2]                      {};

   \node [transition] (e1) [left=of c1] {}
     edge [pre,bend left]                  (w1)
     edge [post,bend right]                (s)
     edge [post]                           (c1);
   \node [transition] (e2) [left=of c2] {}
     edge [pre,bend right]                 (w2)
     edge [post,bend left]                 (s)
     edge [post]                           (c2);
   \node [transition] (l1) [right=of c1] {}
     edge [pre]                            (c1)
     edge [pre,bend left]                  (s)
     edge [post,bend right] node[swap] {2} (w1);
   \node [transition] (l2) [right=of c2] {}
     edge [pre]                            (c2)
     edge [pre,bend right]                 (s)
     edge [post,bend left]  node {2}       (w2);
     
   %\usetikzlibrary {arrows.meta,petri,positioning}
  \begin{scope}[xshift=6cm]
    \node [place,tokens=1]     (w1')                            {};
    \node [place]              (c1') [below=of w1']             {};
    \node [red place]          (s1') [below=of c1',xshift=-5mm]
            [label=left:$s$]                                    {};
    \node [red place,tokens=3] (s2') [below=of c1',xshift=5mm]
            [label=right:$\bar s$]                              {};
    \node [place]              (c2') [below=of s1',xshift=5mm]  {};
    \node [place,tokens=1]     (w2') [below=of c2']             {};

    \node [transition] (e1') [left=of c1'] {}
      edge [pre,bend left]                  (w1')
      edge [post]                           (s1')
      edge [pre]                            (s2')
      edge [post]                           (c1');
    \node [transition] (e2') [left=of c2'] {}
      edge [pre,bend right]                 (w2')
      edge [post]                           (s1')
      edge [pre]                            (s2')
      edge [post]                           (c2');
    \node [transition] (l1') [right=of c1'] {}
      edge [pre]                            (c1')
      edge [pre]                            (s1')
      edge [post]                           (s2')
      edge [post,bend right] node[swap] {2} (w1');
    \node [transition] (l2') [right=of c2'] {}
      edge [pre]                            (c2')
      edge [pre]                            (s1')
      edge [post]                           (s2')
      edge [post,bend left]  node {2}       (w2');
  \end{scope}
  
	\begin{scope}[on background layer]
    \node (r1) [fill=black!10,rounded corners,fit=(w1)(w2)(e1)(e2)(l1)(l2)] {};
    \node (r2) [fill=black!10,rounded corners,fit=(w1')(w2')(e1')(e2')(l1')(l2')] {};
  \end{scope}

  \draw [shorten >=1mm,->,thick,decorate,
         decoration={snake,amplitude=.4mm,segment length=2mm,
                     pre=moveto,pre length=1mm,post length=2mm}]
    (r1) -- (r2) node [above=1mm,midway,text width=3cm,align=center]
      {replacement of the \textcolor{red}{capacity} by \textcolor{red}{two places}};
\end{tikzpicture}




\begin{tikzpicture}[scale=3]
  % Axe
  \draw[->] (-2.5, 0) -- (2.5, 0) node[right] {$x$};
  \draw[->] (0, 0) -- (0, 1.1) node[above] {$f(x)$};

  % Courbe gaussienne
  \draw[domain=-2.5:2.5, smooth, samples=100, thick, blue]
    plot (\x, {exp(-((\x + 1)/0.1 )^2)});
    
  \draw[domain=-2.5:2.5, smooth, samples=100, thick, blue]
    plot (\x, {exp(-((\x - 1)/0.1 )^2)});
    
  % Légende
  \node[blue] at (1.4,0.9) {$f(x) = e^{-x^2}$};
\end{tikzpicture}

\begin{tikzpicture}[scale=1.2]

% Boîte centrale (zone sombre = piégeage)
\fill[blue!5] (-1, -0.3) rectangle (1, 0.3);
\draw[black, thick] (-1, -0.3) rectangle (1, 0.3);
\node at (0, 0.45) {Zone de piégeage};

% Arome
\filldraw[red!50, opacity=0.6] (0,0) circle (0.1);
\node at (0,-0.5) {Atomes de Rb-87};

% Faisceaux repoussants à gauche
\draw[->, thick, blue!70] (-3, 0.2) -- (-1.1, 0.2);
\draw[->, thick, blue!70] (-3, -0.2) -- (-1.1, -0.2);
\node[blue!70] at (-2.1, 0.4) {Faisceaux bleus};

% Faisceaux repoussants à droite
\draw[->, thick, blue!70] (3, 0.2) -- (1.1, 0.2);
\draw[->, thick, blue!70] (3, -0.2) -- (1.1, -0.2);

% Légendes transitions
\node at (0,-1.2) {$\Delta > 0$ (décalage vers le bleu)};
\node at (0,-1.6) {Trans. D1 : $\lambda_{D1} = \SI{794.98}{\nano\meter}$};
\node at (0,-2.0) {Trans. D2 : $\lambda_{D2} = \SI{780.24}{\nano\meter}$};

\end{tikzpicture}







%%%%%%%% graphe
%\begin{tikzpicture}
%	\draw[]
%		(-1,0) edge [ thick,line width=0.5ex,->,>=Stealth , color = \colorOne ] node [pos = 1.1 , right ]{$t$} (10 , 0) 
%	;
%	\draw[]
%		(0,-1) edge [ thick,line width=0.5ex,->,>=Stealth , color = \colorOne ] node [pos = 1.1 , right ]{$s = I/I_{sat}$} (0 , 5) 
%	;
%	\draw[thick, line width=0.1ex,rounded corners = 0.1ex, color= \colorFour , fill =  \colorFour!50!\colorSix,]
%		(-1,0) -- (1,0) -- (1,3) -- (2,3) -- (2,0) -- (5,0) --(5,3) -- (6 , 3) -- ( 6 , 0 ) -- (9 , 0 ) 
%	
%	;
%		
%\end{tikzpicture}
%
%
%%%%%%%% 3D
%\begin{tikzpicture}
%
%\begin{scope}[
%  3d view={45}{30},
%  perspective={
%    p = {(100,0,0)},
%    q = {(0,100,0)},
%    r = {(0,0,100)}},
%  scale=1, 
%  vanishing point/.style={fill,circle,inner sep=2pt}]
%  
%  	
%  
%	
%	%\drawgridxyz{x}{0}{0}{5}{0}{3}
%	%\simpleaxes{2}{2}{2}
%	%\simplecuboid{1}{1}{1}
%	%\drawrectxyz{z}{3}{0}{5}{0}{5}{  thick,line width=0.8ex,->,>=Stealth , line width=1ex,rounded corners = 1.5ex, color=blue , fill = brown,}
%	
%	
%	\drawparallelepiped{-2.5}{-2.5}{-0.4}{5}{5}{0.4}{thick, line width=0.1ex,rounded corners = 0.1ex, color=\colorOne , fill = \colorGold,}
%	
%	
%	\drawparallelepiped{-2.25}{-2.25}{0}{0.25}{4.5}{0.25}{thick, line width=0.1ex,rounded corners = 0.1ex, color=black , fill = \colorSix,}
%	
%	\drawparallelepiped{2.25}{2.25}{0}{-0.25}{-4.5}{0.25}{thick, line width=0.1ex,rounded corners = 0.1ex, color=black , fill = \colorSix,}
%	
%	\drawparallelepiped{-1.9}{-2.25}{0}{0.25}{4.5}{0.25}{thick, line width=0.1ex,rounded corners = 0.1ex, color=black , fill = \colorSix,}
%	
%	\drawparallelepiped{1.9}{2.25}{0}{-0.25}{-4.5}{0.25}{thick, line width=0.1ex,rounded corners = 0.1ex, color=black , fill = \colorSix,}
%	
%	
%	
%	\drawparallelepipedcenter{0}{0}{0}{3}{0.1}{0.1}{thick, line width=0.1ex,rounded corners = 0.1ex, color=red , fill = \colorFour,}
%	
%	\drawparallelepipedcenter{0}{0.2}{0}{3}{0.1}{0.1}{thick, line width=0.1ex,rounded corners = 0.1ex, color=red , fill = \colorFour,}
%	
%	\drawparallelepipedcenter{0}{-0.2}{0}{3}{0.1}{0.1}{thick, line width=0.1ex,rounded corners = 0.1ex, color=red , fill = \colorFour,}
%	
%	
%	
%	
%	
%	
%
%	%\begin{scope}[shift={(tpp cs: x = 0 , y = 0 , z = -1 )}]\simplecuboid{1}{1}{1}\end{scope}
%	
%	\drawgridxyz{z}{-1}{-3.}{3.}{-3.}{3.}{line width=0.1ex }
%	\drawgridxyz{x}{3}{-3}{3}{-3}{3}{line width=0.1ex}
%	\drawgridxyz{y}{3}{-3}{3}{-3}{3}{line width=0.1ex}
%	
%	\AxesSimples{-2.5}{-2.5}{0}{2}{draw = none, thick,line width=0.5ex,->,>=Stealth , color=gray}
%
%
%  %\node[vanishing point,label = right:p] (p) at (10,0,0){};
%  %\node[vanishing point,label = left:q] (q) at (0,10,0){};
%  %\node[vanishing point,label = above:r] (r) at (0,0,200){};
%
%  %\begin{scope}[dotted]
%  %  \foreach \y in {0,1}{
%  %    \foreach \z in {0,1}{
%  %      \draw (tpp cs:x=0,y=\y,z=\z) -- (p.center);}}
%  %  \foreach \x in {0,1}{
%  %    \foreach \z in {0,1}{
%  %      \draw (tpp cs:x=\x,y=0,z=\z) -- (q.center);}}
%  %  \foreach \x in {0,1}{
%  %    \foreach \y in {0,1}{
%  %      \draw (tpp cs:x=\x,y=\y,z=0) -- (r.center);}}
%  %\end{scope}
%\end{scope}
%
%%\drawgrid{-20}{20}{-20}{20}
%\end{tikzpicture}
%


\end{document}
